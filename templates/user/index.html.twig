{% extends 'base.html.twig' %}

{% block title %}Lista de Produtos
{% endblock %}

{% block body %}
	<main>
		{% include "messages.html.twig" %}
		<div class="container py-5">
			<h1>Bem vindo!</h1>
			<div class="container py-5">
				<div class="mb-4 d-flex flex-row justify-content-between">
					<h2>Produtos</h2>
					<div>
						<a href="{{ path("app_product_new_view") }}" class="btn btn-primary">
							<i class="bi bi-plus"></i>
							Novo produto
						</a>
					</div>
				</div>

				<table class="table table-striped table-hover">
					<thead>
						<tr>
							<th scope="col">Id</th>
							<th scope="col">Nome</th>
							<th scope="col">Descrição</th>
							<th scope="col">Categoria</th>
							<th scope="col">Valor</th>
							<th scope="col">Qtd.</th>
							<th scope="col-2 text-align-right">Ações</th>
						</tr>
					</thead>
					<tbody>
						{% if products %}
							{% for products in products %}
								<tr>
									<th scope="row">{{ products.id }}</th>
									<td>{{ products.name }}</td>
									<td>{{ products.description }}</td>
									<td>{{ products.category.name }}</td>
									<td>R${{ products.value }}</td>
									<td>{{ products.amount }}</td>
									<td class="col-2 d-flex gap-1 w-auto flex-wrap">
										<a href="{{ path('app_product_edit_view', {id:products.id})}}" class="btn btn-secondary btn-sm" title="Editar produto">
											<i class="bi bi-pencil"></i>
										</a>
										<a href="{{ path('app_product_inative', {id:products.id})}}" class="btn btn-danger btn-sm" title="Inativar">
											<i class="bi bi-x"></i>
										</a>
									</td>
								</tr>
							{% endfor %}
						{% else %}
							<tr>
								<td colspan="7" class="text-center">Nenhum produto encontrado.</td>
							</tr>
						{% endif %}
					</tbody>
				</table>
			</div>
		</div>
	</main>
{% endblock %}
